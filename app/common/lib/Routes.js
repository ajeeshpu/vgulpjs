define(["common/lib/env","json!routes.json","durandal/system"],function(e,t,n){var r=function(){var e=this;e.get=function(n){for(var r=0;r<t.length;r++)if(n.match(t[r].slug+"$")!=undefined)return e.dataModuleUrl(t[r]);if(n.match(/env.context$/)!==undefined)return e.get("/index.html");console.log("Route: "+n+" not found tried all routes",t)},e.getFromHash=function(n){var r=n.match("#![a-zA-z0-9./-]*$");console.log("token",r,n,n.match("#!"));if(r)return e.get(r[0].substring(1,r[0].length));if(n.match(/env.context$/)!==undefined)return e.get("/index.html");console.log("Route: "+n+" not found tried all routes",t)};var n=function(e,t){var n={};return n.route="!"+e.slug,n.moduleId=e.name+"/vms/index",n.nav=t,n},r=function(e){for(var t=0;t<e.length;t++);};e.routeMap=function(){var e=[];e.push({route:"",moduleId:"plain-html-modules/home/vms/index",nav:1});for(var i=0;i<t.length;i++)e.push(n(t[i],i+2));return r(e),e},e.dataModuleUrl=function(e){return e.dataModuleUrl="json!".concat(e.name).concat
("/data/").concat(e.slug.replace(".html",".json")),console.log("Route data module url",e.dataModuleUrl),e},e.currentRoute=function(){return e.getFromHash(window.location.hash)}};return r});