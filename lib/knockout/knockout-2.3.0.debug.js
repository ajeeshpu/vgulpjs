// (c) Steven Sanderson - http://knockoutjs.com/

// License: MIT (http://www.opensource.org/licenses/mit-license.php)

(function(){var DEBUG=!0;(function(undefined){var window=this||(0,eval)("this"),document=window.document,navigator=window.navigator,jQuery=window.jQuery,JSON=window.JSON;(function(e){if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var t=module.exports||exports;e(t)}else typeof define=="function"&&define.amd?define(["exports"],e):e(window.ko={})})(function(e){function n(e){var n=this;return e&&t.utils.objectForEach(e,function(e,r){var i=t.extenders[e];typeof i=="function"&&(n=i(n,r))}),n}function f(e){t.bindingHandlers[e]={init:function(n,r,i,s){var o=function(){var t={};return t[e]=r(),t};return t.bindingHandlers.event.init.call(this,n,o,i,s)}}}function p(e,n,r,i){t.bindingHandlers[e]={init:function(e,n,r,i,s){return t.utils.domData.set(e,h,{}),{controlsDescendantBindings:!0}},update:function(e,s,o,u,a){var f=t.utils.domData.get(e,h),l=t.utils.unwrapObservable(s()),c=!r!=!l,p=!f.savedNodes,d=p||n||c!==f.didDisplayOnLastUpdate;d&&(p&&(f.savedNodes=t.utils
.cloneNodes(t.virtualElements.childNodes(e),!0)),c?(p||t.virtualElements.setDomNodeChildren(e,t.utils.cloneNodes(f.savedNodes)),t.applyBindingsToDescendants(i?i(a,l):a,e)):t.virtualElements.emptyNode(e),f.didDisplayOnLastUpdate=c)}},t.expressionRewriting.bindingRewriteValidators[e]=!1,t.virtualElements.allowedBindings[e]=!0}function d(e,n,r){r&&n!==t.selectExtensions.readValue(e)&&t.selectExtensions.writeValue(e,n),n!==t.selectExtensions.readValue(e)&&t.dependencyDetection.ignore(t.utils.triggerEvent,null,[e,"change"])}var t=typeof e!="undefined"?e:{};t.exportSymbol=function(e,n){var r=e.split("."),i=t;for(var s=0;s<r.length-1;s++)i=i[r[s]];i[r[r.length-1]]=n},t.exportProperty=function(e,t,n){e[t]=n},t.version="2.3.0",t.exportSymbol("version",t.version),t.utils=function(){function f(e,n){if(t.utils.tagNameLower(e)!=="input"||!e.type)return!1;if(n.toLowerCase()!="click")return!1;var r=e.type;return r=="checkbox"||r=="radio"}var e=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n]
)},n={},r={},i=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";n[i]=["keyup","keydown","keypress"],n.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],e(n,function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)r[t[n]]=e});var s={propertychange:!0},o=document&&function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");while(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0]);return e>4?e:undefined}(),u=o===6,a=o===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},arrayIndexOf:function(e,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r]))return e[r];return null},arrayRemoveItem
:function(e,n){var r=t.utils.arrayIndexOf(e,n);r>=0&&e.splice(r,1)},arrayGetDistinctValues:function(e){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)t.utils.arrayIndexOf(n,e[r])<0&&n.push(e[r]);return n},arrayMap:function(e,t){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)n.push(t(e[r]));return n},arrayFilter:function(e,t){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)t(e[r])&&n.push(e[r]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,n,r){var i=e.indexOf?e.indexOf(n):t.utils.arrayIndexOf(e,n);i<0?r&&e.push(n):r||e.splice(i,1)},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},objectForEach:e,emptyDomNode:function(e){while(e.firstChild)t.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){var n=t.utils.makeArray(e),r=document.createElement("div");for(var i=0,s=n.length;i<s;i++)r.appendChild(t.cleanNode(n[i]));return r
},cloneNodes:function(e,n){for(var r=0,i=e.length,s=[];r<i;r++){var o=e[r].cloneNode(!0);s.push(n?t.cleanNode(o):o)}return s},setDomNodeChildren:function(e,n){t.utils.emptyDomNode(e);if(n)for(var r=0,i=n.length;r<i;r++)e.appendChild(n[r])},replaceDomNodes:function(e,n){var r=e.nodeType?[e]:e;if(r.length>0){var i=r[0],s=i.parentNode;for(var o=0,u=n.length;o<u;o++)s.insertBefore(n[o],i);for(var o=0,u=r.length;o<u;o++)t.removeNode(r[o])}},setOptionNodeSelectionState:function(e,t){o<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return e===null||e===undefined?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringTokenize:function(e,n){var r=[],i=(e||"").split(n);for(var s=0,o=i.length;s<o;s++){var u=t.utils.stringTrim(i[s]);u!==""&&r.push(u)}return r},stringStartsWith:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(t.compareDocumentPosition)return(t.compareDocumentPosition(e)&16)==16
;while(e!=null){if(e==t)return!0;e=e.parentNode}return!1},domNodeIsAttachedToDocument:function(e){return t.utils.domNodeIsContainedBy(e,e.ownerDocument)},anyDomNodeIsAttachedToDocument:function(e){return!!t.utils.arrayFirst(e,t.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},registerEventHandler:function(e,n,r){var i=o&&s[n];if(!i&&typeof jQuery!="undefined"){if(f(e,n)){var u=r;r=function(e,t){var n=this.checked;t&&(this.checked=t.checkedStateBeforeEvent!==!0),u.call(this,e),this.checked=n}}jQuery(e).bind(n,r)}else if(!i&&typeof e.addEventListener=="function")e.addEventListener(n,r,!1);else{if(typeof e.attachEvent=="undefined")throw new Error("Browser doesn't support addEventListener or attachEvent");var a=function(t){r.call(e,t)},l="on"+n;e.attachEvent(l,a),t.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(l,a)})}},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent"
);if(typeof jQuery!="undefined"){var n=[];f(e,t)&&n.push({checkedStateBeforeEvent:e.checked}),jQuery(e).trigger(t,n)}else if(typeof document.createEvent=="function"){if(typeof e.dispatchEvent!="function")throw new Error("The supplied element doesn't support dispatchEvent");var i=r[t]||"HTMLEvents",s=document.createEvent(i);s.initEvent(t,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(s)}else{if(typeof e.fireEvent=="undefined")throw new Error("Browser doesn't support triggering events");f(e,t)&&(e.checked=e.checked!==!0),e.fireEvent("on"+t)}},unwrapObservable:function(e){return t.isObservable(e)?e():e},peekObservable:function(e){return t.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(e,n,r){if(n){var i=/\S+/g,s=e.className.match(i)||[];t.utils.arrayForEach(n.match(i),function(e){t.utils.addOrRemoveItem(s,e,r)}),e.className=s.join(" ")}},setTextContent:function(e,n){var r=t.utils.unwrapObservable(n);if(r===null||r===undefined)r="";var i=t.virtualElements.firstChild(e);!
i||i.nodeType!=3||t.virtualElements.nextSibling(i)?t.virtualElements.setDomNodeChildren(e,[document.createTextNode(r)]):i.data=r,t.utils.forceRefresh(e)},setElementName:function(e,t){e.name=t;if(o<=7)try{e.mergeAttributes(document.createElement("<input name='"+e.name+"'/>"),!1)}catch(n){}},forceRefresh:function(e){if(o>=9){var t=e.nodeType==1?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(o){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,n){e=t.utils.unwrapObservable(e),n=t.utils.unwrapObservable(n);var r=[];for(var i=e;i<=n;i++)r.push(i);return r},makeArray:function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t},isIe6:u,isIe7:a,ieVersion:o,getFormFields:function(e,n){var r=t.utils.makeArray(e.getElementsByTagName("input")).concat(t.utils.makeArray(e.getElementsByTagName("textarea"))),i=typeof n=="string"?function(e){return e.name===n}:function(e){return n.test(e.name)},s=[];for(var o=
r.length-1;o>=0;o--)i(r[o])&&s.push(r[o]);return s},parseJson:function(e){if(typeof e=="string"){e=t.utils.stringTrim(e);if(e)return JSON&&JSON.parse?JSON.parse(e):(new Function("return "+e))()}return null},stringifyJson:function(e,n,r){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(t.utils.unwrapObservable(e),n,r)},postJson:function(n,r,i){i=i||{};var s=i.params||{},o=i.includeFields||this.fieldsIncludedWithJsonPost,u=n;if(typeof n=="object"&&t.utils.tagNameLower(n)==="form"){var a=n;u=a.action;for(var f=o.length-1;f>=0;f--){var l=t.utils.getFormFields(a,o[f]);for(var c=l.length-1;c>=0;c--)s[l[c].name]=l[c].value}}r=t.utils.unwrapObservable(r);var h=document.createElement("form");h.style.display="none",h.action=u,h.method="post";for(var p in r){var d=document.createElement
("input");d.name=p,d.value=t.utils.stringifyJson(t.utils.unwrapObservable(r[p])),h.appendChild(d)}e(s,function(e,t){var n=document.createElement("input");n.name=e,n.value=t,h.appendChild(n)}),document.body.appendChild(h),i.submitter?i.submitter(h):h.submit(),setTimeout(function(){h.parentNode.removeChild(h)},0)}}}(),t.exportSymbol("utils",t.utils),t.exportSymbol("utils.arrayForEach",t.utils.arrayForEach),t.exportSymbol("utils.arrayFirst",t.utils.arrayFirst),t.exportSymbol("utils.arrayFilter",t.utils.arrayFilter),t.exportSymbol("utils.arrayGetDistinctValues",t.utils.arrayGetDistinctValues),t.exportSymbol("utils.arrayIndexOf",t.utils.arrayIndexOf),t.exportSymbol("utils.arrayMap",t.utils.arrayMap),t.exportSymbol("utils.arrayPushAll",t.utils.arrayPushAll),t.exportSymbol("utils.arrayRemoveItem",t.utils.arrayRemoveItem),t.exportSymbol("utils.extend",t.utils.extend),t.exportSymbol("utils.fieldsIncludedWithJsonPost",t.utils.fieldsIncludedWithJsonPost),t.exportSymbol("utils.getFormFields",t.utils
.getFormFields),t.exportSymbol("utils.peekObservable",t.utils.peekObservable),t.exportSymbol("utils.postJson",t.utils.postJson),t.exportSymbol("utils.parseJson",t.utils.parseJson),t.exportSymbol("utils.registerEventHandler",t.utils.registerEventHandler),t.exportSymbol("utils.stringifyJson",t.utils.stringifyJson),t.exportSymbol("utils.range",t.utils.range),t.exportSymbol("utils.toggleDomNodeCssClass",t.utils.toggleDomNodeCssClass),t.exportSymbol("utils.triggerEvent",t.utils.triggerEvent),t.exportSymbol("utils.unwrapObservable",t.utils.unwrapObservable),t.exportSymbol("utils.objectForEach",t.utils.objectForEach),t.exportSymbol("utils.addOrRemoveItem",t.utils.addOrRemoveItem),t.exportSymbol("unwrap",t.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),t.utils.domData=new function(){var e=0,n="__ko__"+(new Date
).getTime(),r={};return{get:function(e,n){var r=t.utils.domData.getAll(e,!1);return r===undefined?undefined:r[n]},set:function(e,n,r){if(r===undefined&&t.utils.domData.getAll(e,!1)===undefined)return;var i=t.utils.domData.getAll(e,!0);i[n]=r},getAll:function(t,i){var s=t[n],o=s&&s!=="null"&&r[s];if(!o){if(!i)return undefined;s=t[n]="ko"+e++,r[s]={}}return r[s]},clear:function(e){var t=e[n];return t?(delete r[t],e[n]=null,!0):!1}}},t.exportSymbol("utils.domData",t.utils.domData),t.exportSymbol("utils.domData.clear",t.utils.domData.clear),t.utils.domNodeDisposal=new function(){function i(n,r){var i=t.utils.domData.get(n,e);return i===undefined&&r&&(i=[],t.utils.domData.set(n,e,i)),i}function s(n){t.utils.domData.set(n,e,undefined)}function o(e){var n=i(e,!1);if(n){n=n.slice(0);for(var s=0;s<n.length;s++)n[s](e)}t.utils.domData.clear(e),typeof jQuery=="function"&&typeof jQuery["cleanData"]=="function"&&jQuery.cleanData([e]),r[e.nodeType]&&u(e)}function u(e){var t,n=e.firstChild;while(t=n)n=
t.nextSibling,t.nodeType===8&&o(t)}var e="__ko_domNodeDisposal__"+(new Date).getTime(),n={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{addDisposeCallback:function(e,t){if(typeof t!="function")throw new Error("Callback must be a function");i(e,!0).push(t)},removeDisposeCallback:function(e,n){var r=i(e,!1);r&&(t.utils.arrayRemoveItem(r,n),r.length==0&&s(e))},cleanNode:function(e){if(n[e.nodeType]){o(e);if(r[e.nodeType]){var i=[];t.utils.arrayPushAll(i,e.getElementsByTagName("*"));for(var s=0,u=i.length;s<u;s++)o(i[s])}}return e},removeNode:function(e){t.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)}}},t.cleanNode=t.utils.domNodeDisposal.cleanNode,t.removeNode=t.utils.domNodeDisposal.removeNode,t.exportSymbol("cleanNode",t.cleanNode),t.exportSymbol("removeNode",t.removeNode),t.exportSymbol("utils.domNodeDisposal",t.utils.domNodeDisposal),t.exportSymbol("utils.domNodeDisposal.addDisposeCallback",t.utils.domNodeDisposal.addDisposeCallback),t.exportSymbol("utils.domNodeDisposal.removeDisposeCallback"
,t.utils.domNodeDisposal.removeDisposeCallback),function(){function n(e){var n=t.utils.stringTrim(e).toLowerCase(),r=document.createElement("div"),i=n.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!n.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!n.indexOf("<td")||!n.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],s="ignored<div>"+i[1]+e+i[2]+"</div>";typeof window["innerShiv"]=="function"?r.appendChild(window.innerShiv(s)):r.innerHTML=s;while(i[0]--)r=r.lastChild;return t.utils.makeArray(r.lastChild.childNodes)}function r(e){if(jQuery.parseHTML)return jQuery.parseHTML(e)||[];var t=jQuery.clean([e]);if(t&&t[0]){var n=t[0];while(n.parentNode&&n.parentNode.nodeType!==11)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}return t}var e=/^(\s*)<!--(.*?)-->/;t.utils.parseHtmlFragment=function(e){return typeof jQuery!="undefined"?r(e):n(e)},t.utils.setHtml=function(e,n){t.utils.emptyDomNode(e),n=t.utils.unwrapObservable(n);if(n!==null&&
n!==undefined){typeof n!="string"&&(n=n.toString());if(typeof jQuery!="undefined")jQuery(e).html(n);else{var r=t.utils.parseHtmlFragment(n);for(var i=0;i<r.length;i++)e.appendChild(r[i])}}}}(),t.exportSymbol("utils.parseHtmlFragment",t.utils.parseHtmlFragment),t.exportSymbol("utils.setHtml",t.utils.setHtml),t.memoization=function(){function n(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function r(){return n()+n()}function i(e,n){if(!e)return;if(e.nodeType==8){var r=t.memoization.parseMemoText(e.nodeValue);r!=null&&n.push({domNode:e,memoId:r})}else if(e.nodeType==1)for(var s=0,o=e.childNodes,u=o.length;s<u;s++)i(o[s],n)}var e={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var n=r();return e[n]=t,"<!--[ko_memo:"+n+"]-->"},unmemoize:function(t,n){var r=e[t];if(r===undefined)throw new Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return r.apply
(null,n||[]),!0}finally{delete e[t]}},unmemoizeDomNodeAndDescendants:function(e,n){var r=[];i(e,r);for(var s=0,o=r.length;s<o;s++){var u=r[s].domNode,a=[u];n&&t.utils.arrayPushAll(a,n),t.memoization.unmemoize(r[s].memoId,a),u.nodeValue="",u.parentNode&&u.parentNode.removeChild(u)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),t.exportSymbol("memoization",t.memoization),t.exportSymbol("memoization.memoize",t.memoization.memoize),t.exportSymbol("memoization.unmemoize",t.memoization.unmemoize),t.exportSymbol("memoization.parseMemoText",t.memoization.parseMemoText),t.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",t.memoization.unmemoizeDomNodeAndDescendants),t.extenders={throttle:function(e,n){e.throttleEvaluation=n;var r=null;return t.dependentObservable({read:e,write:function(t){clearTimeout(r),r=setTimeout(function(){e(t)},n)}})},notify:function(e,n){return e.equalityComparer=n=="always"?function(){return!1}:t.observable.fn.equalityComparer
,e}},t.exportSymbol("extenders",t.extenders),t.subscription=function(e,n,r){this.target=e,this.callback=n,this.disposeCallback=r,t.exportProperty(this,"dispose",this.dispose)},t.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},t.subscribable=function(){this._subscriptions={},t.utils.extend(this,t.subscribable.fn),t.exportProperty(this,"subscribe",this.subscribe),t.exportProperty(this,"extend",this.extend),t.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var r="change";t.subscribable.fn={subscribe:function(e,n,i){i=i||r;var s=n?e.bind(n):e,o=new t.subscription(this,s,function(){t.utils.arrayRemoveItem(this._subscriptions[i],o)}.bind(this));return this._subscriptions[i]||(this._subscriptions[i]=[]),this._subscriptions[i].push(o),o},notifySubscribers:function(e,n){n=n||r,this._subscriptions[n]&&t.dependencyDetection.ignore(function(){t.utils.arrayForEach(this._subscriptions[n].slice(0),function(t){t&&t.isDisposed!==!0&&t.callback
(e)})},this)},getSubscriptionsCount:function(){var e=0;return t.utils.objectForEach(this._subscriptions,function(t,n){e+=n.length}),e},extend:n},t.isSubscribable=function(e){return e!=null&&typeof e.subscribe=="function"&&typeof e["notifySubscribers"]=="function"},t.exportSymbol("subscribable",t.subscribable),t.exportSymbol("isSubscribable",t.isSubscribable),t.dependencyDetection=function(){var e=[];return{begin:function(t){e.push({callback:t,distinctDependencies:[]})},end:function(){e.pop()},registerDependency:function(n){if(!t.isSubscribable(n))throw new Error("Only subscribable things can act as dependencies");if(e.length>0){var r=e[e.length-1];if(!r||t.utils.arrayIndexOf(r.distinctDependencies,n)>=0)return;r.distinctDependencies.push(n),r.callback(n)}},ignore:function(t,n,r){try{return e.push(null),t.apply(n,r||[])}finally{e.pop()}}}}();var i={"undefined":!0,"boolean":!0,number:!0,string:!0};t.observable=function(e){function r(){if(arguments.length>0){if(!r.equalityComparer||!r.equalityComparer
(n,arguments[0]))r.valueWillMutate(),n=arguments[0],DEBUG&&(r._latestValue=n),r.valueHasMutated();return this}return t.dependencyDetection.registerDependency(r),n}var n=e;return DEBUG&&(r._latestValue=n),t.subscribable.call(r),r.peek=function(){return n},r.valueHasMutated=function(){r.notifySubscribers(n)},r.valueWillMutate=function(){r.notifySubscribers(n,"beforeChange")},t.utils.extend(r,t.observable.fn),t.exportProperty(r,"peek",r.peek),t.exportProperty(r,"valueHasMutated",r.valueHasMutated),t.exportProperty(r,"valueWillMutate",r.valueWillMutate),r},t.observable.fn={equalityComparer:function(t,n){var r=t===null||typeof t in i;return r?t===n:!1}};var s=t.observable.protoProperty="__ko_proto__";t.observable.fn[s]=t.observable,t.hasPrototype=function(e,n){return e===null||e===undefined||e[s]===undefined?!1:e[s]===n?!0:t.hasPrototype(e[s],n)},t.isObservable=function(e){return t.hasPrototype(e,t.observable)},t.isWriteableObservable=function(e){return typeof e=="function"&&e[s]===t.observable?!0
:typeof e=="function"&&e[s]===t.dependentObservable&&e.hasWriteFunction?!0:!1},t.exportSymbol("observable",t.observable),t.exportSymbol("isObservable",t.isObservable),t.exportSymbol("isWriteableObservable",t.isWriteableObservable),t.observableArray=function(e){e=e||[];if(typeof e=="object"&&"length"in e){var n=t.observable(e);return t.utils.extend(n,t.observableArray.fn),n}throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},t.observableArray.fn={remove:function(e){var t=this.peek(),n=[],r=typeof e=="function"?e:function(t){return t===e};for(var i=0;i<t.length;i++){var s=t[i];r(s)&&(n.length===0&&this.valueWillMutate(),n.push(s),t.splice(i,1),i--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(e===undefined){var n=this.peek(),r=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),r}return e?this.remove(function(n){return t.utils.arrayIndexOf(e,n)>=0}):[]},destroy:function(
e){var t=this.peek(),n=typeof e=="function"?e:function(t){return t===e};this.valueWillMutate();for(var r=t.length-1;r>=0;r--){var i=t[r];n(i)&&(t[r]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===undefined?this.destroy(function(){return!0}):e?this.destroy(function(n){return t.utils.arrayIndexOf(e,n)>=0}):[]},indexOf:function(e){var n=this();return t.utils.arrayIndexOf(n,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},t.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){t.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate();var n=t[e].apply(t,arguments);return this.valueHasMutated(),n}}),t.utils.arrayForEach(["slice"],function(e){t.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),t.exportSymbol("observableArray",t.observableArray),t.dependentObservable=function(e,n,r){function a(e){b.push(e.subscribe(l)
)}function f(){t.utils.arrayForEach(b,function(e){e.dispose()}),b=[]}function l(){var e=h.throttleEvaluation;e&&e>=0?(clearTimeout(w),w=setTimeout(c,e)):c()}function c(){if(o)return;if(s&&g()){y();return}o=!0;try{var e=t.utils.arrayMap(b,function(e){return e.target});t.dependencyDetection.begin(function(n){var r;(r=t.utils.arrayIndexOf(e,n))>=0?e[r]=undefined:a(n)});var r=u.call(n);for(var f=e.length-1;f>=0;f--)e[f]&&b.splice(f,1)[0].dispose();s=!0,h.notifySubscribers(i,"beforeChange"),i=r,DEBUG&&(h._latestValue=i),h.notifySubscribers(i)}finally{t.dependencyDetection.end(),o=!1}b.length||y()}function h(){if(arguments.length>0){if(typeof v!="function")throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return v.apply(n,arguments),this}return s||c(),t.dependencyDetection.registerDependency(h),i}function p(){return s||c(),i}function d(){return!s||b.length>0}var i,s=!1,o=!1,u=e;u&&typeof 
u=="object"?(r=u,u=r.read):(r=r||{},u||(u=r.read));if(typeof u!="function")throw new Error("Pass a function that returns the value of the ko.computed");var v=r.write,m=r.disposeWhenNodeIsRemoved||r.disposeWhenNodeIsRemoved||null,g=r.disposeWhen||r.disposeWhen||function(){return!1},y=f,b=[],w=null;n||(n=r.owner),h.peek=p,h.getDependenciesCount=function(){return b.length},h.hasWriteFunction=typeof r.write=="function",h.dispose=function(){y()},h.isActive=d,t.subscribable.call(h),t.utils.extend(h,t.dependentObservable.fn),t.exportProperty(h,"peek",h.peek),t.exportProperty(h,"dispose",h.dispose),t.exportProperty(h,"isActive",h.isActive),t.exportProperty(h,"getDependenciesCount",h.getDependenciesCount),r.deferEvaluation!==!0&&c();if(m&&d()){y=function(){t.utils.domNodeDisposal.removeDisposeCallback(m,y),f()},t.utils.domNodeDisposal.addDisposeCallback(m,y);var E=g;g=function(){return!t.utils.domNodeIsAttachedToDocument(m)||E()}}return h},t.isComputed=function(e){return t.hasPrototype(e,t.dependentObservable
)};var o=t.observable.protoProperty;t.dependentObservable[o]=t.observable,t.dependentObservable.fn={},t.dependentObservable.fn[o]=t.dependentObservable,t.exportSymbol("dependentObservable",t.dependentObservable),t.exportSymbol("computed",t.dependentObservable),t.exportSymbol("isComputed",t.isComputed),function(){function n(e,t,s){s=s||new i,e=t(e);var o=typeof e=="object"&&e!==null&&e!==undefined&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof Number)&&!(e instanceof Boolean);if(!o)return e;var u=e instanceof Array?[]:{};return s.save(e,u),r(e,function(r){var i=t(e[r]);switch(typeof i){case"boolean":case"number":case"string":case"function":u[r]=i;break;case"object":case"undefined":var o=s.get(i);u[r]=o!==undefined?o:n(i,t,s)}}),u}function r(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);typeof e["toJSON"]=="function"&&t("toJSON")}else for(var r in e)t(r)}function i(){this.keys=[],this.values=[]}var e=10;t.toJS=function(r){if(arguments.length==0)throw new Error
("When calling ko.toJS, pass the object you want to convert.");return n(r,function(n){for(var r=0;t.isObservable(n)&&r<e;r++)n=n();return n})},t.toJSON=function(e,n,r){var i=t.toJS(e);return t.utils.stringifyJson(i,n,r)},i.prototype={constructor:i,save:function(e,n){var r=t.utils.arrayIndexOf(this.keys,e);r>=0?this.values[r]=n:(this.keys.push(e),this.values.push(n))},get:function(e){var n=t.utils.arrayIndexOf(this.keys,e);return n>=0?this.values[n]:undefined}}}(),t.exportSymbol("toJS",t.toJS),t.exportSymbol("toJSON",t.toJSON),function(){var e="__ko__hasDomDataOptionValue__";t.selectExtensions={readValue:function(n){switch(t.utils.tagNameLower(n)){case"option":if(n[e]===!0)return t.utils.domData.get(n,t.bindingHandlers.options.optionValueDomDataKey);return t.utils.ieVersion<=7?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return n.selectedIndex>=0?t.selectExtensions.readValue(n.options[n.selectedIndex]):undefined;default:return n.value
}},writeValue:function(n,r){switch(t.utils.tagNameLower(n)){case"option":switch(typeof r){case"string":t.utils.domData.set(n,t.bindingHandlers.options.optionValueDomDataKey,undefined),e in n&&delete n[e],n.value=r;break;default:t.utils.domData.set(n,t.bindingHandlers.options.optionValueDomDataKey,r),n[e]=!0,n.value=typeof r=="number"?r:""}break;case"select":r===""&&(r=undefined);if(r===null||r===undefined)n.selectedIndex=-1;for(var i=n.options.length-1;i>=0;i--)if(t.selectExtensions.readValue(n.options[i])==r){n.selectedIndex=i;break}!(n.size>1)&&n.selectedIndex===-1&&(n.selectedIndex=0);break;default:if(r===null||r===undefined)r="";n.value=r}}}}(),t.exportSymbol("selectExtensions",t.selectExtensions),t.exportSymbol("selectExtensions.readValue",t.selectExtensions.readValue),t.exportSymbol("selectExtensions.writeValue",t.selectExtensions.writeValue),t.expressionRewriting=function(){function i(t,n){var r=null;while(t!=r)r=t,t=t.replace(e,function(e,t){return n[t]});return t}function s(e){
if(t.utils.arrayIndexOf(n,t.utils.stringTrim(e).toLowerCase())>=0)return!1;var i=e.match(r);return i===null?!1:i[1]?"Object("+i[1]+")"+i[2]:e}function o(e){var n=t.utils.stringTrim(e);switch(n.length&&n.charAt(0)){case"'":case'"':return e;default:return"'"+n+"'"}}var e=/\@ko_token_(\d+)\@/g,n=["true","false","null","undefined"],r=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;return{bindingRewriteValidators:[],parseObjectLiteral:function(e){var n=t.utils.stringTrim(e);if(n.length<3)return[];n.charAt(0)==="{"&&(n=n.substring(1,n.length-1));var r=[],s=null,o;for(var u=0;u<n.length;u++){var a=n.charAt(u);if(s===null)switch(a){case'"':case"'":case"/":s=u,o=a}else if(a==o&&n.charAt(u-1)!=="\\"){var f=n.substring(s,u+1);r.push(f);var l="@ko_token_"+(r.length-1)+"@";n=n.substring(0,s)+l+n.substring(u+1),u-=f.length-l.length,s=null}}s=null,o=null;var c=0,h=null;for(var u=0;u<n.length;u++){var a=n.charAt(u);if(s===null)switch(a){case"{":s=u,h=a,o="}";break;case"(":s=u,h=a,o=")";break;case"["
:s=u,h=a,o="]"}if(a===h)c++;else if(a===o){c--;if(c===0){var f=n.substring(s,u+1);r.push(f);var l="@ko_token_"+(r.length-1)+"@";n=n.substring(0,s)+l+n.substring(u+1),u-=f.length-l.length,s=null}}}var p=[],d=n.split(",");for(var v=0,m=d.length;v<m;v++){var g=d[v],y=g.indexOf(":");if(y>0&&y<g.length-1){var b=g.substring(0,y),w=g.substring(y+1);p.push({key:i(b,r),value:i(w,r)})}else p.push({unknown:i(g,r)})}return p},preProcessBindings:function(e){var n=typeof e=="string"?t.expressionRewriting.parseObjectLiteral(e):e,r=[],i=[],u;for(var a=0;u=n[a];a++){r.length>0&&r.push(",");if(u.key){var f=o(u.key),l=u.value;r.push(f),r.push(":"),r.push(l);if(l=s(t.utils.stringTrim(l)))i.length>0&&i.push(", "),i.push(f+" : function(__ko_value) { "+l+" = __ko_value; }")}else u.unknown&&r.push(u.unknown)}var c=r.join("");if(i.length>0){var h=i.join("");c=c+", '_ko_property_writers' : { "+h+" } "}return c},keyValueArrayContainsKey:function(e,n){for(var r=0;r<e.length;r++)if(t.utils.stringTrim(e[r]["key"])==
n)return!0;return!1},writeValueToProperty:function(e,n,r,i,s){if(!e||!t.isObservable(e)){var o=n()._ko_property_writers;o&&o[r]&&o[r](i)}else t.isWriteableObservable(e)&&(!s||e.peek()!==i)&&e(i)}}}(),t.exportSymbol("expressionRewriting",t.expressionRewriting),t.exportSymbol("expressionRewriting.bindingRewriteValidators",t.expressionRewriting.bindingRewriteValidators),t.exportSymbol("expressionRewriting.parseObjectLiteral",t.expressionRewriting.parseObjectLiteral),t.exportSymbol("expressionRewriting.preProcessBindings",t.expressionRewriting.preProcessBindings),t.exportSymbol("jsonExpressionRewriting",t.expressionRewriting),t.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",t.expressionRewriting.preProcessBindings),function(){function s(t){return t.nodeType==8&&(e?t.text:t.nodeValue).match(n)}function o(t){return t.nodeType==8&&(e?t.text:t.nodeValue).match(r)}function u(e,t){var n=e,r=1,i=[];while(n=n.nextSibling){if(o(n)){r--;if(r===0)return i}i.push(n),s(n)&&r++}if(!
t)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function a(e,t){var n=u(e,t);return n?n.length>0?n[n.length-1].nextSibling:e.nextSibling:null}function f(e){var t=e.firstChild,n=null;if(t)do if(n)n.push(t);else if(s(t)){var r=a(t,!0);r?t=r:n=[t]}else o(t)&&(n=[t]);while(t=t.nextSibling);return n}var e=document&&document.createComment("test").text==="<!--test-->",n=e?/^<!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*-->$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,r=e?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,i={ul:!0,ol:!0};t.virtualElements={allowedBindings:{},childNodes:function(e){return s(e)?u(e):e.childNodes},emptyNode:function(e){if(!s(e))t.utils.emptyDomNode(e);else{var n=t.virtualElements.childNodes(e);for(var r=0,i=n.length;r<i;r++)t.removeNode(n[r])}},setDomNodeChildren:function(e,n){if(!s(e))t.utils.setDomNodeChildren(e,n);else{t.virtualElements.emptyNode(e);var r=e.nextSibling;for(var i=0,o=n.length;i<o;i++)r.parentNode.insertBefore(n[i],r)}},prepend:function(
e,t){s(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},insertAfter:function(e,n,r){r?s(e)?e.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?e.insertBefore(n,r.nextSibling):e.appendChild(n):t.virtualElements.prepend(e,n)},firstChild:function(e){return s(e)?!e.nextSibling||o(e.nextSibling)?null:e.nextSibling:e.firstChild},nextSibling:function(e){return s(e)&&(e=a(e)),e.nextSibling&&o(e.nextSibling)?null:e.nextSibling},virtualNodeBindingValue:function(e){var t=s(e);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(!i[t.utils.tagNameLower(e)])return;var n=e.firstChild;if(n)do if(n.nodeType===1){var r=f(n);if(r){var s=n.nextSibling;for(var o=0;o<r.length;o++)s?e.insertBefore(r[o],s):e.appendChild(r[o])}}while(n=n.nextSibling)}}}(),t.exportSymbol("virtualElements",t.virtualElements),t.exportSymbol("virtualElements.allowedBindings",t.virtualElements.allowedBindings),t.exportSymbol("virtualElements.emptyNode"
,t.virtualElements.emptyNode),t.exportSymbol("virtualElements.insertAfter",t.virtualElements.insertAfter),t.exportSymbol("virtualElements.prepend",t.virtualElements.prepend),t.exportSymbol("virtualElements.setDomNodeChildren",t.virtualElements.setDomNodeChildren),function(){function n(e,t){var n=e;return t[n]||(t[n]=r(e))}function r(e){var n=t.expressionRewriting.preProcessBindings(e),r="with($context){with($data||{}){return{"+n+"}}}";return new Function("$context","$element",r)}var e="data-bind";t.bindingProvider=function(){this.bindingCache={}},t.utils.extend(t.bindingProvider.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return n.getAttribute(e)!=null;case 8:return t.virtualElements.virtualNodeBindingValue(n)!=null;default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):null},getBindingsString:function(n,r){switch(n.nodeType){case 1:return n.getAttribute(e);case 8:return t.virtualElements.virtualNodeBindingValue
(n);default:return null}},parseBindingsString:function(e,t,r){try{var i=n(e,this.bindingCache);return i(t,r)}catch(s){throw s.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+s.message,s}}}),t.bindingProvider.instance=new t.bindingProvider}(),t.exportSymbol("bindingProvider",t.bindingProvider),function(){function e(e){var n=t.virtualElements.allowedBindings[e];if(!n)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function n(e,n,i){var s,o=t.virtualElements.firstChild(n);while(s=o)o=t.virtualElements.nextSibling(s),r(e,s,i)}function r(e,r,i){var o=!0,u=r.nodeType===1;u&&t.virtualElements.normaliseVirtualElementDomStructure(r);var a=u&&i||t.bindingProvider.instance.nodeHasBindings(r);a&&(o=s(r,null,e,i).shouldBindDescendants),o&&n(e,r,!u)}function s(n,r,s,o){function f(e){return function(){return a[e]}}function l(){return a}var u=0,a,c,h=t.utils.domData.get(n,i);if(!r){if(h)throw Error("You cannot apply bindings multiple times to the same element."
);t.utils.domData.set(n,i,!0)}return t.dependentObservable(function(){var i=s&&s instanceof t.bindingContext?s:new t.bindingContext(t.utils.unwrapObservable(s)),p=i.$data;!h&&o&&t.storedBindingContextForNode(n,i);var d=typeof r=="function"?r(i,n):r;a=d||t.bindingProvider.instance.getBindings(n,i),a&&(u===0&&(u=1,t.utils.objectForEach(a,function(r){var s=t.bindingHandlers[r];s&&n.nodeType===8&&e(r);if(s&&typeof s["init"]=="function"){var o=s.init,u=o(n,f(r),l,p,i);if(u&&u.controlsDescendantBindings){if(c!==undefined)throw new Error("Multiple bindings ("+c+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");c=r}}}),u=2),u===2&&t.utils.objectForEach(a,function(e){var r=t.bindingHandlers[e];if(r&&typeof r["update"]=="function"){var s=r.update;s(n,f(e),l,p,i)}}))},null,{disposeWhenNodeIsRemoved:n}),{shouldBindDescendants:c===undefined}}t.bindingHandlers={},t.bindingContext=function(e,n,r){n?(t.utils.extend(
this,n),this.$parentContext=n,this.$parent=n.$data,this.$parents=(n.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e,this.ko=t),this.$data=e,r&&(this[r]=e)},t.bindingContext.prototype.createChildContext=function(e,n){return new t.bindingContext(e,this,n)},t.bindingContext.prototype.extend=function(e){var n=t.utils.extend(new t.bindingContext,this);return t.utils.extend(n,e)};var i="__ko_boundElement",o="__ko_bindingContext__";t.storedBindingContextForNode=function(e,n){if(arguments.length!=2)return t.utils.domData.get(e,o);t.utils.domData.set(e,o,n)},t.applyBindingsToNode=function(e,n,r){return e.nodeType===1&&t.virtualElements.normaliseVirtualElementDomStructure(e),s(e,n,r,!0)},t.applyBindingsToDescendants=function(e,t){(t.nodeType===1||t.nodeType===8)&&n(e,t,!0)},t.applyBindings=function(e,t){if(t&&t.nodeType!==1&&t.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"
);t=t||window.document.body,r(e,t,!0)},t.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=t.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return t.contextFor(e.parentNode)}return undefined},t.dataFor=function(e){var n=t.contextFor(e);return n?n.$data:undefined},t.exportSymbol("bindingHandlers",t.bindingHandlers),t.exportSymbol("applyBindings",t.applyBindings),t.exportSymbol("applyBindingsToDescendants",t.applyBindingsToDescendants),t.exportSymbol("applyBindingsToNode",t.applyBindingsToNode),t.exportSymbol("contextFor",t.contextFor),t.exportSymbol("dataFor",t.dataFor)}();var u={"class":"className","for":"htmlFor"};t.bindingHandlers.attr={update:function(e,n,r){var i=t.utils.unwrapObservable(n())||{};t.utils.objectForEach(i,function(n,r){r=t.utils.unwrapObservable(r);var i=r===!1||r===null||r===undefined;i&&e.removeAttribute(n),t.utils.ieVersion<=8&&n in u?(n=u[n],i?e.removeAttribute(n):e[n]=r):i||e.setAttribute(n,r.toString()),n==="name"&&t.utils.setElementName
(e,i?"":r.toString())})}},t.bindingHandlers.checked={init:function(e,n,r){var i=function(){var i;if(e.type=="checkbox")i=e.checked;else{if(e.type!="radio"||!e.checked)return;i=e.value}var s=n(),o=t.utils.unwrapObservable(s);e.type=="checkbox"&&o instanceof Array?t.utils.addOrRemoveItem(s,e.value,e.checked):t.expressionRewriting.writeValueToProperty(s,r,"checked",i,!0)};t.utils.registerEventHandler(e,"click",i),e.type=="radio"&&!e.name&&t.bindingHandlers.uniqueName.init(e,function(){return!0})},update:function(e,n){var r=t.utils.unwrapObservable(n());e.type=="checkbox"?r instanceof Array?e.checked=t.utils.arrayIndexOf(r,e.value)>=0:e.checked=r:e.type=="radio"&&(e.checked=e.value==r)}};var a="__ko__cssValue";t.bindingHandlers.css={update:function(e,n){var r=t.utils.unwrapObservable(n());typeof r=="object"?t.utils.objectForEach(r,function(n,r){r=t.utils.unwrapObservable(r),t.utils.toggleDomNodeCssClass(e,n,r)}):(r=String(r||""),t.utils.toggleDomNodeCssClass(e,e[a],!1),e[a]=r,t.utils.toggleDomNodeCssClass
(e,r,!0))}},t.bindingHandlers.enable={update:function(e,n){var r=t.utils.unwrapObservable(n());r&&e.disabled?e.removeAttribute("disabled"):!r&&!e.disabled&&(e.disabled=!0)}},t.bindingHandlers.disable={update:function(e,n){t.bindingHandlers.enable.update(e,function(){return!t.utils.unwrapObservable(n())})}},t.bindingHandlers.event={init:function(e,n,r,i){var s=n()||{};t.utils.objectForEach(s,function(s){typeof s=="string"&&t.utils.registerEventHandler(e,s,function(e){var o,u=n()[s];if(!u)return;var a=r();try{var f=t.utils.makeArray(arguments);f.unshift(i),o=u.apply(i,f)}finally{o!==!0&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}var l=a[s+"Bubble"]!==!1;l||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())})})}},t.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var n=e(),r=t.utils.peekObservable(n);return!r||typeof r.length=="number"?{foreach:n,templateEngine:t.nativeTemplateEngine.instance}:(t.utils.unwrapObservable(n),{foreach:r.data,
as:r.as,includeDestroyed:r.includeDestroyed,afterAdd:r.afterAdd,beforeRemove:r.beforeRemove,afterRender:r.afterRender,beforeMove:r.beforeMove,afterMove:r.afterMove,templateEngine:t.nativeTemplateEngine.instance})}},init:function(e,n,r,i,s){return t.bindingHandlers.template.init(e,t.bindingHandlers.foreach.makeTemplateValueAccessor(n))},update:function(e,n,r,i,s){return t.bindingHandlers.template.update(e,t.bindingHandlers.foreach.makeTemplateValueAccessor(n),r,i,s)}},t.expressionRewriting.bindingRewriteValidators.foreach=!1,t.virtualElements.allowedBindings.foreach=!0;var l="__ko_hasfocusUpdating",c="__ko_hasfocusLastValue";t.bindingHandlers.hasfocus={init:function(e,n,r){var i=function(i){e[l]=!0;var s=e.ownerDocument;if("activeElement"in s){var o;try{o=s.activeElement}catch(u){o=s.body}i=o===e}var a=n();t.expressionRewriting.writeValueToProperty(a,r,"hasfocus",i,!0),e[c]=i,e[l]=!1},s=i.bind(null,!0),o=i.bind(null,!1);t.utils.registerEventHandler(e,"focus",s),t.utils.registerEventHandler
(e,"focusin",s),t.utils.registerEventHandler(e,"blur",o),t.utils.registerEventHandler(e,"focusout",o)},update:function(e,n){var r=!!t.utils.unwrapObservable(n());!e[l]&&e[c]!==r&&(r?e.focus():e.blur(),t.dependencyDetection.ignore(t.utils.triggerEvent,null,[e,r?"focusin":"focusout"]))}},t.bindingHandlers.hasFocus=t.bindingHandlers.hasfocus,t.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){t.utils.setHtml(e,n())}};var h="__ko_withIfBindingData";p("if"),p("ifnot",!1,!0),p("with",!0,!1,function(e,t){return e.createChildContext(t)}),t.bindingHandlers.options={init:function(e){if(t.utils.tagNameLower(e)!=="select")throw new Error("options binding applies only to SELECT elements");while(e.length>0)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,r){function p(e,t,n){var r=typeof t;return r=="function"?t(e):r=="string"?e[t]:n}function v(e,n,r){r.length&&(c=r[0].selected&&[t.selectExtensions.readValue(r[0])]);var i=document.
createElement("option");if(e===f)t.utils.setHtml(i,l),t.selectExtensions.writeValue(i,undefined);else{var s=p(e,u.optionsValue,e);t.selectExtensions.writeValue(i,t.utils.unwrapObservable(s));var o=p(e,u.optionsText,s);t.utils.setTextContent(i,o)}return[i]}function m(e,n){if(c){var r=t.utils.arrayIndexOf(c,t.selectExtensions.readValue(n[0]))>=0;t.utils.setOptionNodeSelectionState(n[0],r)}}var i=e.length==0,s=!i&&e.multiple?e.scrollTop:null,o=t.utils.unwrapObservable(n()),u=r(),a=u.optionsIncludeDestroyed,f={},l,c;e.multiple?c=t.utils.arrayMap(e.selectedOptions||t.utils.arrayFilter(e.childNodes,function(e){return e.tagName&&t.utils.tagNameLower(e)==="option"&&e.selected}),function(e){return t.selectExtensions.readValue(e)}):e.selectedIndex>=0&&(c=[t.selectExtensions.readValue(e.options[e.selectedIndex])]);if(o){typeof o.length=="undefined"&&(o=[o]);var h=t.utils.arrayFilter(o,function(e){return a||e===undefined||e===null||!t.utils.unwrapObservable(e._destroy)});"optionsCaption"in u&&(l=t.
utils.unwrapObservable(u.optionsCaption),l!==null&&l!==undefined&&h.unshift(f))}else o=[];var g=m;u.optionsAfterRender&&(g=function(e,n){m(e,n),t.dependencyDetection.ignore(u.optionsAfterRender,null,[n[0],e!==f?e:undefined])}),t.utils.setDomNodeChildrenFromArrayMapping(e,h,v,null,g),c=null,i&&"value"in u&&d(e,t.utils.peekObservable(u.value),!0),t.utils.ensureSelectElementIsRenderedCorrectly(e),s&&Math.abs(s-e.scrollTop)>20&&(e.scrollTop=s)}},t.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__",t.bindingHandlers.selectedOptions={init:function(e,n,r){t.utils.registerEventHandler(e,"change",function(){var i=n(),s=[];t.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&s.push(t.selectExtensions.readValue(e))}),t.expressionRewriting.writeValueToProperty(i,r,"selectedOptions",s)})},update:function(e,n){if(t.utils.tagNameLower(e)!="select")throw new Error("values binding applies only to SELECT elements");var r=t.utils.unwrapObservable(n());r&&typeof 
r.length=="number"&&t.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var n=t.utils.arrayIndexOf(r,t.selectExtensions.readValue(e))>=0;t.utils.setOptionNodeSelectionState(e,n)})}},t.bindingHandlers.style={update:function(e,n){var r=t.utils.unwrapObservable(n()||{});t.utils.objectForEach(r,function(n,r){r=t.utils.unwrapObservable(r),e.style[n]=r||""})}},t.bindingHandlers.submit={init:function(e,n,r,i){if(typeof n()!="function")throw new Error("The value for a submit binding must be a function");t.utils.registerEventHandler(e,"submit",function(t){var r,s=n();try{r=s.call(i,e)}finally{r!==!0&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},t.bindingHandlers.text={update:function(e,n){t.utils.setTextContent(e,n())}},t.virtualElements.allowedBindings.text=!0,t.bindingHandlers.uniqueName={init:function(e,n){if(n()){var r="ko_unique_"+ ++t.bindingHandlers.uniqueName.currentIndex;t.utils.setElementName(e,r)}}},t.bindingHandlers.uniqueName.currentIndex=0,t.bindingHandlers
.value={init:function(e,n,r){var i=["change"],s=r().valueUpdate,o=!1;s&&(typeof s=="string"&&(s=[s]),t.utils.arrayPushAll(i,s),i=t.utils.arrayGetDistinctValues(i));var u=function(){o=!1;var i=n(),s=t.selectExtensions.readValue(e);t.expressionRewriting.writeValueToProperty(i,r,"value",s)},a=t.utils.ieVersion&&e.tagName.toLowerCase()=="input"&&e.type=="text"&&e.autocomplete!="off"&&(!e.form||e.form.autocomplete!="off");a&&t.utils.arrayIndexOf(i,"propertychange")==-1&&(t.utils.registerEventHandler(e,"propertychange",function(){o=!0}),t.utils.registerEventHandler(e,"blur",function(){o&&u()})),t.utils.arrayForEach(i,function(n){var r=u;t.utils.stringStartsWith(n,"after")&&(r=function(){setTimeout(u,0)},n=n.substring("after".length)),t.utils.registerEventHandler(e,n,r)})},update:function(e,n){var r=t.utils.tagNameLower(e)==="select",i=t.utils.unwrapObservable(n()),s=t.selectExtensions.readValue(e),o=i!==s;if(o){var u=function(){t.selectExtensions.writeValue(e,i)};u();var a=r;a&&setTimeout(u,0
)}r&&e.length>0&&d(e,i,!1)}},t.bindingHandlers.visible={update:function(e,n){var r=t.utils.unwrapObservable(n()),i=e.style.display!="none";r&&!i?e.style.display="":!r&&i&&(e.style.display="none")}},f("click"),t.templateEngine=function(){},t.templateEngine.prototype.renderTemplateSource=function(e,t,n){throw new Error("Override renderTemplateSource")},t.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},t.templateEngine.prototype.makeTemplateSource=function(e,n){if(typeof e=="string"){n=n||document;var r=n.getElementById(e);if(!r)throw new Error("Cannot find template with ID "+e);return new t.templateSources.domElement(r)}if(e.nodeType==1||e.nodeType==8)return new t.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},t.templateEngine.prototype.renderTemplate=function(e,t,n,r){var i=this.makeTemplateSource(e,r);return this.renderTemplateSource(i,t,n)},t.templateEngine.prototype.isTemplateRewritten=
function(e,t){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(e,t).data("isRewritten")},t.templateEngine.prototype.rewriteTemplate=function(e,t,n){var r=this.makeTemplateSource(e,n),i=t(r.text());r.text(i),r.data("isRewritten",!0)},t.exportSymbol("templateEngine",t.templateEngine),t.templateRewriting=function(){function r(e){var n=t.expressionRewriting.bindingRewriteValidators;for(var r=0;r<e.length;r++){var i=e[r].key;if(n.hasOwnProperty(i)){var s=n[i];if(typeof s=="function"){var o=s(e[r].value);if(o)throw new Error(o)}else if(!s)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}function i(e,n,i,s){var o=t.expressionRewriting.parseObjectLiteral(e);r(o);var u=t.expressionRewriting.preProcessBindings(o),a="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+u+" } })()},'"+i.toLowerCase()+"')";return s.createJavaScriptEvaluatorBlock(a)+n}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi
,n=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,n,r){n.isTemplateRewritten(e,r)||n.rewriteTemplate(e,function(e){return t.templateRewriting.memoizeBindingAttributeSyntax(e,n)},r)},memoizeBindingAttributeSyntax:function(t,r){return t.replace(e,function(){return i(arguments[4],arguments[1],arguments[2],r)}).replace(n,function(){return i(arguments[1],"<!-- ko -->","#comment",r)})},applyMemoizedBindingsToNextSibling:function(e,n){return t.memoization.memoize(function(r,i){var s=r.nextSibling;s&&s.nodeName.toLowerCase()===n&&t.applyBindingsToNode(s,e,i)})}}}(),t.exportSymbol("__tr_ambtns",t.templateRewriting.applyMemoizedBindingsToNextSibling),function(){t.templateSources={},t.templateSources.domElement=function(e){this.domElement=e},t.templateSources.domElement.prototype.text=function(){var e=t.utils.tagNameLower(this.domElement),n=e==="script"?"text":e==="textarea"?"value":"innerHTML";if(arguments.length==0)return this.domElement[n];var r=arguments[0];n==="innerHTML"?
t.utils.setHtml(this.domElement,r):this.domElement[n]=r},t.templateSources.domElement.prototype.data=function(e){if(arguments.length===1)return t.utils.domData.get(this.domElement,"templateSourceData_"+e);t.utils.domData.set(this.domElement,"templateSourceData_"+e,arguments[1])};var e="__ko_anon_template__";t.templateSources.anonymousTemplate=function(e){this.domElement=e},t.templateSources.anonymousTemplate.prototype=new t.templateSources.domElement,t.templateSources.anonymousTemplate.prototype.constructor=t.templateSources.anonymousTemplate,t.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var n=t.utils.domData.get(this.domElement,e)||{};return n.textData===undefined&&n.containerData&&(n.textData=n.containerData.innerHTML),n.textData}var r=arguments[0];t.utils.domData.set(this.domElement,e,{textData:r})},t.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var n=t.utils.domData.get(this.domElement,e)||{};return n.containerData
}var r=arguments[0];t.utils.domData.set(this.domElement,e,{containerData:r})},t.exportSymbol("templateSources",t.templateSources),t.exportSymbol("templateSources.domElement",t.templateSources.domElement),t.exportSymbol("templateSources.anonymousTemplate",t.templateSources.anonymousTemplate)}(),function(){function n(e,n,r){var i,s=e,o=t.virtualElements.nextSibling(n);while(s&&(i=s)!==o)s=t.virtualElements.nextSibling(i),(i.nodeType===1||i.nodeType===8)&&r(i)}function r(e,r){if(e.length){var i=e[0],s=e[e.length-1];n(i,s,function(e){t.applyBindings(r,e)}),n(i,s,function(e){t.memoization.unmemoizeDomNodeAndDescendants(e,[r])})}}function i(e){return e.nodeType?e:e.length>0?e[0]:null}function s(n,s,o,u,a){a=a||{};var f=n&&i(n),l=f&&f.ownerDocument,c=a.templateEngine||e;t.templateRewriting.ensureTemplateIsRewritten(o,c,l);var h=c.renderTemplate(o,u,a,l);if(typeof h.length!="number"||h.length>0&&typeof h[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");
var p=!1;switch(s){case"replaceChildren":t.virtualElements.setDomNodeChildren(n,h),p=!0;break;case"replaceNode":t.utils.replaceDomNodes(n,h),p=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+s)}return p&&(r(h,u),a.afterRender&&t.dependencyDetection.ignore(a.afterRender,null,[h,u.$data])),h}function u(e,n){var r=t.utils.domData.get(e,o);r&&typeof r.dispose=="function"&&r.dispose(),t.utils.domData.set(e,o,n&&n.isActive()?n:undefined)}var e;t.setTemplateEngine=function(n){if(!(n==undefined||n instanceof t.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");e=n},t.renderTemplate=function(n,r,o,u,a){o=o||{};if((o["templateEngine"]||e)==undefined)throw new Error("Set a template engine before calling renderTemplate");a=a||"replaceChildren";if(u){var f=i(u),l=function(){return!f||!t.utils.domNodeIsAttachedToDocument(f)},c=f&&a=="replaceNode"?f.parentNode:f;return t.dependentObservable(function(){var e=r&&r instanceof t.bindingContext?
r:new t.bindingContext(t.utils.unwrapObservable(r)),l=typeof n=="function"?n(e.$data,e):n,c=s(u,a,l,e,o);a=="replaceNode"&&(u=c,f=i(u))},null,{disposeWhen:l,disposeWhenNodeIsRemoved:c})}return t.memoization.memoize(function(e){t.renderTemplate(n,r,o,e,"replaceNode")})},t.renderTemplateForEach=function(e,n,i,o,u){var a,f=function(n,r){a=u.createChildContext(t.utils.unwrapObservable(n),i.as),a.$index=r;var o=typeof e=="function"?e(n,a):e;return s(null,"ignoreTargetNode",o,a,i)},l=function(e,t,n){r(t,a),i.afterRender&&i.afterRender(t,e)};return t.dependentObservable(function(){var e=t.utils.unwrapObservable(n)||[];typeof e.length=="undefined"&&(e=[e]);var r=t.utils.arrayFilter(e,function(e){return i.includeDestroyed||e===undefined||e===null||!t.utils.unwrapObservable(e._destroy)});t.dependencyDetection.ignore(t.utils.setDomNodeChildrenFromArrayMapping,null,[o,r,f,i,l])},null,{disposeWhenNodeIsRemoved:o})};var o="__ko__templateComputedDomDataKey__";t.bindingHandlers.template={init:function(
e,n){var r=t.utils.unwrapObservable(n());if(typeof r!="string"&&!r.name&&(e.nodeType==1||e.nodeType==8)){var i=e.nodeType==1?e.childNodes:t.virtualElements.childNodes(e),s=t.utils.moveCleanedNodesToContainerElement(i);(new t.templateSources.anonymousTemplate(e)).nodes(s)}return{controlsDescendantBindings:!0}},update:function(e,n,r,i,s){var o=t.utils.unwrapObservable(n()),a={},f=!0,l,c=null;typeof o!="string"&&(a=o,o=t.utils.unwrapObservable(a.name),"if"in a&&(f=t.utils.unwrapObservable(a["if"])),f&&"ifnot"in a&&(f=!t.utils.unwrapObservable(a.ifnot)),l=t.utils.unwrapObservable(a.data));if("foreach"in a){var h=f&&a.foreach||[];c=t.renderTemplateForEach(o||e,h,a,e,s)}else if(!f)t.virtualElements.emptyNode(e);else{var p="data"in a?s.createChildContext(l,a.as):s;c=t.renderTemplate(o||e,p,a,e)}u(e,c)}},t.expressionRewriting.bindingRewriteValidators.template=function(e){var n=t.expressionRewriting.parseObjectLiteral(e);return n.length==1&&n[0].unknown?null:t.expressionRewriting.keyValueArrayContainsKey
(n,"name")?null:"This template engine does not support anonymous templates nested within its templates"},t.virtualElements.allowedBindings.template=!0}(),t.exportSymbol("setTemplateEngine",t.setTemplateEngine),t.exportSymbol("renderTemplate",t.renderTemplate),t.utils.compareArrays=function(){function n(n,i,s){return n=n||[],i=i||[],n.length<=i.length?r(n,i,e,t,s):r(i,n,t,e,s)}function r(e,t,n,r,i){var s=Math.min,o=Math.max,u=[],a,f=e.length,l,c=t.length,h=c-f||1,p=f+c+1,d,v,m,g;for(a=0;a<=f;a++){v=d,u.push(d=[]),m=s(c,a+h),g=o(0,a-1);for(l=g;l<=m;l++)if(!l)d[l]=a+1;else if(!a)d[l]=l+1;else if(e[a-1]===t[l-1])d[l]=v[l-1];else{var y=v[l]||p,b=d[l-1]||p;d[l]=s(y,b)+1}}var w=[],E,S=[],x=[];for(a=f,l=c;a||l;)E=u[a][l]-1,l&&E===u[a][l-1]?S.push(w[w.length]={status:n,value:t[--l],index:l}):a&&E===u[a-1][l]?x.push(w[w.length]={status:r,value:e[--a],index:a}):(w.push({status:"retained",value:t[--l]}),--a);if(S.length&&x.length){var T=f*10,N,C,k,L,A;for(N=C=0;(i||N<T)&&(L=S[C]);C++){for(k=0;A=x[k
];k++)if(L.value===A.value){L.moved=A.index,A.moved=L.index,x.splice(k,1),N=k=0;break}N+=k}}return w.reverse()}var e="added",t="deleted";return n}(),t.exportSymbol("utils.compareArrays",t.utils.compareArrays),function(){function e(e){while(e.length&&!t.utils.domNodeIsAttachedToDocument(e[0]))e.splice(0,1);if(e.length>1){var n=e[0],r=e[e.length-1],i=[n];while(n!==r){n=n.nextSibling;if(!n)return;i.push(n)}Array.prototype.splice.apply(e,[0,e.length].concat(i))}return e}function n(n,r,i,s,o){var u=[],a=t.dependentObservable(function(){var n=r(i,o,e(u))||[];u.length>0&&(t.utils.replaceDomNodes(u,n),s&&t.dependencyDetection.ignore(s,null,[i,n,o])),u.splice(0,u.length),t.utils.arrayPushAll(u,n)},null,{disposeWhenNodeIsRemoved:n,disposeWhen:function(){return!t.utils.anyDomNodeIsAttachedToDocument(u)}});return{mappedNodes:u,dependentObservable:a.isActive()?a:undefined}}var r="setDomNodeChildrenFromArrayMapping_lastMappingResult";t.utils.setDomNodeChildrenFromArrayMapping=function(i,s,o,u,a){function S
(t,n){E=l[n],v!==n&&(b[t]=E),E.indexObservable(v++),e(E.mappedNodes),p.push(E),g.push(E)}function x(e,n){if(e)for(var r=0,i=n.length;r<i;r++)n[r]&&t.utils.arrayForEach(n[r].mappedNodes,function(t){e(t,r,n[r].arrayEntry)})}s=s||[],u=u||{};var f=t.utils.domData.get(i,r)===undefined,l=t.utils.domData.get(i,r)||[],c=t.utils.arrayMap(l,function(e){return e.arrayEntry}),h=t.utils.compareArrays(c,s,u.dontLimitMoves),p=[],d=0,v=0,m=[],g=[],y=[],b=[],w=[],E;for(var T=0,N,C;N=h[T];T++){C=N.moved;switch(N.status){case"deleted":C===undefined&&(E=l[d],E.dependentObservable&&E.dependentObservable.dispose(),m.push.apply(m,e(E.mappedNodes)),u.beforeRemove&&(y[T]=E,g.push(E))),d++;break;case"retained":S(T,d++);break;case"added":C!==undefined?S(T,C):(E={arrayEntry:N.value,indexObservable:t.observable(v++)},p.push(E),g.push(E),f||(w[T]=E))}}x(u.beforeMove,b),t.utils.arrayForEach(m,u.beforeRemove?t.cleanNode:t.removeNode);for(var T=0,k=t.virtualElements.firstChild(i),L,A;E=g[T];T++){E.mappedNodes||t.utils.
extend(E,n(i,o,E.arrayEntry,a,E.indexObservable));for(var O=0;A=E.mappedNodes[O];k=A.nextSibling,L=A,O++)A!==k&&t.virtualElements.insertAfter(i,A,L);!E.initialized&&a&&(a(E.arrayEntry,E.mappedNodes,E.indexObservable),E.initialized=!0)}x(u.beforeRemove,y),x(u.afterMove,b),x(u.afterAdd,w),t.utils.domData.set(i,r,p)}}(),t.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",t.utils.setDomNodeChildrenFromArrayMapping),t.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},t.nativeTemplateEngine.prototype=new t.templateEngine,t.nativeTemplateEngine.prototype.constructor=t.nativeTemplateEngine,t.nativeTemplateEngine.prototype.renderTemplateSource=function(e,n,r){var i=!(t.utils.ieVersion<9),s=i?e.nodes:null,o=s?e.nodes():null;if(o)return t.utils.makeArray(o.cloneNode(!0).childNodes);var u=e.text();return t.utils.parseHtmlFragment(u)},t.nativeTemplateEngine.instance=new t.nativeTemplateEngine,t.setTemplateEngine(t.nativeTemplateEngine.instance),t.exportSymbol("nativeTemplateEngine"
,t.nativeTemplateEngine),function(){t.jqueryTmplTemplateEngine=function(){function t(){if(e<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function n(e,t,n){return jQuery.tmpl(e,t,n)}var e=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,r,i){i=i||{},t();var s=e.data("precompiled");if(!s){var o=e.text()||"";o="{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}",s=jQuery.template(null,o),e.data("precompiled",s)}var u=[r.$data],a=jQuery.extend({koBindingContext:r},i.templateOptions),f=n(s,u,a);return f.appendTo(document.createElement("div")),jQuery.fragments={},f},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){document.write("<script type='text/html' id='"+e+"'>"+t+"<"+"/script>"
)},e>0&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},t.jqueryTmplTemplateEngine.prototype=new t.templateEngine,t.jqueryTmplTemplateEngine.prototype.constructor=t.jqueryTmplTemplateEngine;var e=new t.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&t.setTemplateEngine(e),t.exportSymbol("jqueryTmplTemplateEngine",t.jqueryTmplTemplateEngine)}()})})()})();